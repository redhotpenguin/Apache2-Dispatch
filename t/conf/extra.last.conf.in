<IfDefine APACHE2>
	PerlModule Apache2::Dispatch
	<Perl>
		use lib 't/lib/mp2';
	</Perl>
</IfDefine>
<IfDefine APACHE1>
	PerlModule Apache::Dispatch
	<Perl>
		use lib 't/lib/mp1';
	</Perl>
</IfDefine>

DispatchDebug 2

<Location /plain>
	SetHandler perl-script
  
	<IfDefine APACHE2>
		PerlResponseHandler Apache2::Dispatch
	</IfDefine>
	<IfDefine APACHE1>
		PerlHandler Apache::Dispatch
	</IfDefine>
	
	DispatchPrefix Foo
	DispatchRequire On
</Location>

<Location /filtered>
	SetHandler perl-script
	
	<IfDefine APACHE2>
		PerlResponseHandler Apache2::Dispatch Foo::Filter
	</IfDefine>
	<IfDefine APACHE1>
		PerlHandler Apache::Dispatch Foo::Filter
	</IfDefine>
	
	DispatchPrefix Foo
	DispatchFilter On
	DispatchRequire On
	DispatchExtras Pre Post
</Location>

<Location /extras>
	SetHandler perl-script
	
	<IfDefine APACHE2>
		PerlResponseHandler Apache::Dispatch
	</IfDefine>
	<IfDefine APACHE1>
		PerlHandler Apache::Dispatch
	</IfDefine>
	
	DispatchPrefix Foo
	DispatchRequire On
	DispatchExtras Pre Error
</Location>

<Location /oo>
	SetHandler perl-script

	<IfDefine APACHE2>
		PerlResponseHandler Apache2::Dispatch
	</IfDefine>
	<IfDefine APACHE1>
		PerlHandler Apache::Dispatch
	</IfDefine>

	DispatchPrefix Foo
	DispatchRequire On
	DispatchAUTOLOAD On
	DispatchISA Foo::Parent
</Location>

<Location /newloc>
	SetHandler perl-script
	
	<IfDefine APACHE2>
		PerlResponseHandler Apache::Dispatch
	</IfDefine>
	<IfDefine APACHE1>
		PerlHandler Apache::Dispatch
	</IfDefine>
	
	DispatchPrefix Foo
	DispatchLocation /BLARG
	DispatchRequire On
</Location>

